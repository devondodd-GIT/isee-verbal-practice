<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Practice - ISEE Verbal Practice</title>
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1><a href="index.html"><span class="logo-icon">üìö</span> ISEE Verbal Practice</a></h1>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="practice.html" class="active">Practice</a>
        <a href="flashcards.html">Flashcards</a>
        <a href="worksheet.html">Worksheets</a>
      </nav>
    </div>
  </header>
  
  <main class="container">
    <!-- Profile Status Bar -->
    <div id="profile-bar" class="card hidden" style="padding: var(--space-sm) var(--space-md); margin-bottom: var(--space-md); display: flex; justify-content: space-between; align-items: center;">
      <span>Practicing as: <strong id="practice-profile-name"></strong></span>
      <a href="index.html" class="text-light" style="font-size: 0.9rem;">Switch Profile</a>
    </div>
    
    <!-- Setup Screen -->
    <div id="setup-screen" class="card">
      <div class="card-header">
        <h2 id="setup-title">Start Practice Session</h2>
      </div>
      
      <!-- Review Mode Notice -->
      <div id="review-mode-notice" class="hidden" style="background: rgba(232, 165, 75, 0.15); border: 1px solid var(--color-accent); border-radius: var(--radius-md); padding: var(--space-md); margin-bottom: var(--space-lg);">
        <strong>üìù Review Mode</strong>
        <p style="margin: var(--space-xs) 0 0; font-size: 0.9rem;">You're practicing words you've missed before. <a href="practice.html">Switch to regular practice</a></p>
      </div>
      
      <form id="setup-form">
        <div class="form-row">
          <div class="form-group">
            <label for="level-select">Level</label>
            <select id="level-select" required>
              <option value="lower">Lower Level (Grades 5-6)</option>
              <option value="middle">Middle Level (Grades 6-7)</option>
              <option value="upper">Upper Level (Grades 7-8)</option>
              <option value="all">All Levels</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="type-select">Question Type</label>
            <select id="type-select" required>
              <option value="mixed">Mixed (Both Types)</option>
              <option value="synonyms">Synonyms Only</option>
              <option value="sentences">Sentence Completions Only</option>
            </select>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="count-select">Number of Questions</label>
            <select id="count-select" required>
              <option value="5">5 Questions (Quick Practice)</option>
              <option value="10" selected>10 Questions</option>
              <option value="15">15 Questions</option>
              <option value="20">20 Questions (Full Set)</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="timer-select">Timer</label>
            <select id="timer-select">
              <option value="none">No Timer</option>
              <option value="30">30 seconds per question</option>
              <option value="45">45 seconds per question</option>
              <option value="60">60 seconds per question</option>
              <option value="90">90 seconds per question</option>
            </select>
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
          Begin Practice
        </button>
      </form>
    </div>
    
    <!-- Quiz Screen -->
    <div id="quiz-screen" class="card hidden">
      <!-- Timer -->
      <div id="timer-container" class="timer-container hidden">
        <span class="timer-icon">‚è±Ô∏è</span>
        <span id="timer-display" class="timer-display">0:30</span>
      </div>
      
      <div class="progress-text">
        Question <span id="current-num">1</span> of <span id="total-num">10</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
      </div>
      
      <div id="question-container">
        <span class="question-type-badge" id="question-type-badge">Synonym</span>
        <div class="question-prompt" id="question-prompt"></div>
        <div id="options-container"></div>
      </div>
      
      <div id="feedback-container" class="hidden">
        <div id="feedback" class="feedback"></div>
        <button id="next-btn" class="btn btn-primary mt-lg" style="width: 100%;">
          Next Question
        </button>
      </div>
    </div>
    
    <!-- Results Screen -->
    <div id="results-screen" class="card hidden">
      <div class="score-display">
        <div class="score-number" id="final-score">0%</div>
        <div class="score-label">
          <span id="correct-count">0</span> out of <span id="total-count">0</span> correct
        </div>
        <div id="time-result" class="text-light" style="margin-top: var(--space-sm);"></div>
      </div>
      
      <div id="review-section" style="margin-top: var(--space-xl);">
        <h3 style="margin-bottom: var(--space-md);">Review Missed Questions</h3>
        <div id="missed-questions"></div>
      </div>
      
      <div style="display: flex; gap: var(--space-md); margin-top: var(--space-xl);">
        <button id="retry-btn" class="btn btn-secondary" style="flex: 1;">
          Try Again
        </button>
        <button id="new-quiz-btn" class="btn btn-primary" style="flex: 1;">
          New Quiz
        </button>
      </div>
    </div>
  </main>
  
  <script src="js/utils.js"></script>
  <script src="js/data.js"></script>
  <script src="js/profiles.js"></script>
  <script src="js/practice.js"></script>
</body>
</html>
